<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.southwind.mapper.OrdersMapper">
    <select id="ordersVOList" resultType="OrdersVO">
        select o.order_type, o.order_no, s.supplier_name, o.employee_name, o.order_date,
               o.invalid, o.status,od.material_name, od.material_code,od.batch_no,
               od.style, od.storage_name, od.unit_name, od.order_count,od.order_flag,
               o.verify_person, o.verify_date from orders o, order_detail od, supplier s
        where o.order_no = od.order_no and o.supplier_id = s.supplier_id limit #{param1},#{param2}
    </select>

    <select id="ordersVOCount" resultType="java.lang.Long">
        select count(*) from orders o, order_detail od, supplier s
        where o.order_no = od.order_no and o.supplier_id = s.supplier_id;
    </select>
</mapper>
